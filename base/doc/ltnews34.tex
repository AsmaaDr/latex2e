% \iffalse meta-comment
%
% Copyright 2019-2021
% The LaTeX Project and any individual authors listed elsewhere
% in this file.
%
% This file is part of the LaTeX base system.
% -------------------------------------------
%
% It may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3c
% of this license or (at your option) any later version.
% The latest version of this license is in
%    https://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions of LaTeX
% version 2008 or later.
%
% This file has the LPPL maintenance status "maintained".
%
% The list of all files belonging to the LaTeX base distribution is
% given in the file `manifest.txt'. See also `legal.txt' for additional
% information.
%
% The list of derived (unpacked) files belonging to the distribution
% and covered by LPPL is defined by the unpacking scripts (with
% extension .ins) which are part of the distribution.
%
% \fi
% Filename: ltnews34.tex
%
% This is issue 34 of LaTeX News.

\NeedsTeXFormat{LaTeX2e}[2020-02-02]

\documentclass{ltnews}

%%CCC  Temporary definitions:
\providecommand\Dash {\unskip ---}



%% NOTE:  Chris' preferred hyphens!
%%\showhyphens{parameters}
\hyphenation{because parameters parameter}

\usepackage[T1]{fontenc}

\usepackage{lmodern,url,hologo}

\usepackage{csquotes}
\usepackage{multicol}

\providecommand\hook[1]{\texttt{#1}}

\providecommand\meta[1]{$\langle$\textrm{\itshape#1}$\rangle$}
\providecommand\option[1]{\texttt{#1}}
\providecommand\env[1]{\texttt{#1}}
\providecommand\Arg[1]{\texttt\{\meta{#1}\texttt\}}


\providecommand\eTeX{\hologo{eTeX}}
\providecommand\XeTeX{\hologo{XeTeX}}
\providecommand\LuaTeX{\hologo{LuaTeX}}
\providecommand\pdfTeX{\hologo{pdfTeX}}
\providecommand\MiKTeX{\hologo{MiKTeX}}
\providecommand\CTAN{\textsc{ctan}}
\providecommand\TL{\TeX\,Live}
\providecommand\githubissue[2][]{\ifhmode\unskip\fi
     \quad\penalty500\strut\nobreak\hfill
     \mbox{\small\slshape(%
       \href{https://github.com/latex3/latex2e/issues/\getfirstgithubissue#2 \relax}%
          	    {github issue#1 #2}%
           )}%
     \par\smallskip}

% simple solution right now (just link to the first issue if there are more)
\def\getfirstgithubissue#1 #2\relax{#1}

\providecommand\sxissue[1]{\ifhmode\unskip\fi
     \quad\penalty500\strut\nobreak\hfill
     \mbox{\small\slshape(\url{https://tex.stackexchange.com/#1})}\par}

\providecommand\gnatsissue[2]{\ifhmode\unskip\fi
     \quad\penalty500\strut\nobreak\hfill
     \mbox{\small\slshape(%
       \href{https://www.latex-project.org/cgi-bin/ltxbugs2html?pr=#1\%2F\getfirstgithubissue#2 \relax}%
          	    {gnats issue #1/#2}%
           )}%
     \par}

\let\cls\pkg
\providecommand\env[1]{\texttt{#1}}
\providecommand\acro[1]{\textsc{#1}}

\vbadness=1400  % accept slightly empty columns


\makeatletter
% maybe not the greatest design but normally we wouldn't have subsubsections
\renewcommand{\subsubsection}{%
   \@startsection      {subsubsection}{2}{0pt}{1.5ex \@plus 1ex \@minus .2ex}%
      {-1em}{\@subheadingfont\colonize}%
}
\providecommand\colonize[1]{#1:}
\makeatother

\let\finalvspace\vspace          % for document layout fixes



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\providecommand\tubcommand[1]{}
\tubcommand{\input{tubltmac}}

\publicationmonth{November}
\publicationyear{2021 --- Draft Version} 

\publicationissue{34}

\begin{document}

\tubcommand{\addtolength\textheight{4.2pc}}   % only for TUB

\maketitle
{\hyphenpenalty=10000 \spaceskip=3.33pt \hbadness=10000 \tableofcontents}

\setlength\rightskip{0pt plus 3em}


\medskip


\section{Introduction}

\emph{write}

\section{???}

\emph{write}

\section{???}

\emph{write}


\section{New or improved commands}


\subsection{Added \cs{PackageNote} and \cs{ClassNote}}

\LaTeX{} offers \cs{PackageError} to signal errors that stop
processing, \cs{PackageWarning} that generates a warning message on the
terminal, but continues with the processing and also \cs{PackageInfo}
to provide some information that is only written to the \texttt{.log}
file. What hasn't existed up to now is a way to provide some
information on the terminal that is identifying itself as coming from
a specific package but which isn't claiming to be a warning. Thus,
packages that wanted to write to the terminal used \cs{PackageWarning}
even though the information wasn't really warning the user.  For this
we now have \cs{PackageNote} and \cs{PackageNoteNoLine}, that identify
themselves as \enquote{informational}, but still go to the terminal and
not only to the transcript.

Similar commands exist for classes and there we have added the missing
\cs{ClassNote} and \cs{ClassNoteNoLine} as well.
%
\githubissue{613}


\subsection{New implementation for \cs{counterwithin}}

New implementation for \cs{counterwithout} and \cs{counterwithin} with
an additional optional arg so it becomes a drop-in replacement for
amsmath \cs{numberwithin}.

\emph{write appropriate description}
  

\subsection{???}

%
\githubissue{000}




\section{Code improvements}

\subsection{???}

%
\githubissue{000}


\subsection{Additional Extended Latin characters predefined}
Some additional characters such as \'k (U+1E131) are now pre-defined and
will work without needing \verb|\DeclareUnicodeCharacter| declarations.
%
\githubissue{593}

\section{Changes to packages in the \pkg{graphics} category}


\subsection{???}

%
\githubissue{000}



\section{Changes to packages in the \pkg{tools} category}

\subsection{\pkg{varioref}: Improve missing label handling}

If an undefined label is referenced, \pkg{varioref} makes a default
definition so that later processing finds the right structure (two
brace groups inside \cs{r@}\meta{label}) However, if \pkg{nameref} or
\pkg{hyperref} is loaded, the data structure changes to five
arguments, resulting in low-evel errors in some cases. The code has
been changed to avoid these errors.
%
\sxissue{603948}


\subsection{\pkg{array}: Cancel  \cs{mathsurround} for \env{tabular}}

A \env{tabular} environment is internally typeset as an \env{array}
environment with special settings and therefore in math mode. This
math group should not get any \cs{mathsuround} added as it isn't a
real formula because otherwise the spacing around the \env{tabular}
changes. This bug has been there forever (which means not many people
use \cs{mathsurround} or noticed the difference). Anyhow, this now got
fixed.
%
\githubissue{614}



\subsection{???}

%
\githubissue{000}


\section{Changes to packages in the \pkg{amsmath} category}

\subsection{???}

%
\githubissue{000}




\medskip

\begin{thebibliography}{9}

\fontsize{9.3}{11.3}\selectfont

\bibitem{34:blueprint} Frank Mittelbach and Chris Rowley:
  \emph{\LaTeX{} Tagged PDF \Dash A blueprint for a large project}.\\
  \url{https://latex-project.org/publications/indexbyyear/2020/}

\bibitem{34:source2e}
  \emph{\LaTeX{} documentation on the \LaTeX{} Project Website}.\\
  \url{https://latex-project.org/help/documentation/}

\bibitem{34:ltnews32} \LaTeX{} Project Team:
  \emph{\LaTeXe{} news 32}.\\
  \url{https://latex-project.org/news/latex2e-news/ltnews32.pdf}

\end{thebibliography}



\end{document}
